### 概论作业4

1. 解释作业、进程、线程的概念，进程和线程概念的提出分别解决了什么问题？

   **作业**：~~比方说你现在看到的就是一份作业~~

   ​           从一个程序被选中执行到其运行结束并再次成为一个程序的这段过程中，

   ​           该程序称为**作业**

   **进程**：一个运行当中的程序称为**进程**

   **线程**：**线程**是进程的一部分或者说一个实体，一个进程可包含多个**线程**

   ​           进程是分配资源的基本单位，而**线程**是运行和调度的基本单位

   ​           同一个进程中的多个**线程**共享数据、地址空间，但有自己的程序计数器

   **Why进程**：单道程序系统严重浪费CPU时间。为了提高CPU和I/O设备利用率及

   ​                    人机即时交互，采用分时系统多道程序同步运行。此时引入**进程**的

   ​                    概念来描述计算机并发活动，如程序、数据、执行状态等，并作为

   ​                    资源分配和调度的基本单位

   **Why线程**：进程是资源拥有者，创建、撤消与切换存在较大的时空开销。**线程 **

   ​                    作为独立运行和独立调度的基本单位，由于比进程更小，基本上不

   ​                    拥有系统资源，故对它的调度所付出的开销就会小得多，能更高效

   ​                    的提高系统内多个程序间并发执行的程度。

2. 描述哲学家就餐问题及解法，说明同步、互斥、死锁、活锁的概念。

   **哲学家就餐问题**：

   ​        五位哲学家围坐在一张圆形餐桌旁，做以下两件事情之一：吃饭，或者思考。吃东西的时候，他们就停止思考，思考的时候也停止吃东西。他们从不交谈。餐桌中间有一大碗意大利面，每两个哲学家之间有一只餐叉。哲学家必须用两只餐叉吃东西，他们只能使用自己左右手边的那两只餐叉。

   ​        两个哲学家都需要他们中间的那只餐叉才能吃饭。当其中一个哲学家吃饭的过程中拿着餐叉时，另一个哲学家吃饭的进程会被阻塞。所以我们说相邻两个哲学家吃饭的进程是**互斥**的。

   ​        如果每个哲学家都拿着左手的餐叉，永远都在等右边的餐叉，那么就发生了**死锁**。假设规定当哲学家等待另一只餐叉超过五分钟后就放下自己手里的那一只餐叉，并且再等五分钟后进行下一次尝试。这个策略消除了死锁（系统总会进入到下一个状态），但仍然有可能发生**活锁**。即如果五位哲学家在完全相同的时刻进入餐厅，并同时拿起左边的餐叉，那么这些哲学家就会等待五分钟，同时放下手中的餐叉，再等五分钟，又同时拿起这些餐叉。

   ​        为了解决以上问题，需要建立合适的算法来完成哲学家们间的通信、等待与合作。这就是进程**同步**。

   **解法**：

   - **服务生解法**

     一个简单的解法是引入一个餐厅服务生，哲学家必须经过他的允许才能拿起餐叉。因为服务生知道哪只餐叉正在使用，所以他能够作出判断避免死锁。

     为了演示这种解法，假设哲学家依次标号为A至E。如果A和C在吃东西，则有四只餐叉在使用中。B坐在A和C之间，所以两只餐叉都无法使用，而D和E之间有一只空余的餐叉。假设这时D想要吃东西。如果他拿起了第五只餐叉，就有可能发生死锁。相反，如果他征求服务生同意，服务生会让他等待。这样，我们就能保证下次当两把餐叉空余出来时，一定有一位哲学家可以成功的得到一对餐叉，从而避免了死锁。

   - **资源分级解法**

     另一个简单的解法是为资源（这里是餐叉）分配一个偏序或者分级的关系，并约定所有资源都按照这种顺序获取，按相反顺序释放，而且保证不会有两个无关资源同时被同一项工作所需要。在哲学家就餐问题中，餐叉按照某种规则编号为1至5，每一个哲学家总是先拿起左右两边编号较低的餐叉，再拿编号较高的。用完餐叉后，他总是先放下编号较高的餐叉，再放下编号较低的。在这种情况下，当四位哲学家同时拿起他们手边编号较低的餐叉时，只有编号最高的餐叉留在桌上，从而第五位哲学家就不能使用任何一只餐叉了。而且，只有一位哲学家能使用最高编号的餐叉，所以他能使用两只餐叉用餐。当他吃完后，他会先放下编号最高的餐叉，再放下编号较低的餐叉，从而让另一位哲学家拿起后边的这只开始吃东西。

     尽管资源分级能避免死锁，但这种策略并不总是实用的，特别是当所需资源的列表并不是事先知道的时候。例如，假设一个工作单元拿着资源3和5，并决定需要资源2，则必须先要释放5，之后释放3，才能得到2，之后必须重新按顺序获取3和5。对需要访问大量数据库记录的计算机程序来说，如果需要先释放高编号的记录才能访问新的记录，那么运行效率就不会高，因此这种方法在这里并不实用。

   - **Chandy/Misra解法**

     1）每只餐叉都是干净的或者脏的。最初，所有的餐叉都是脏的。

     2）如果一对哲学家竞争一个餐叉，餐叉给编号较低的哲学家。

     3）当一位哲学家要要吃东西时，他必须从与他竞争的邻居那里得到。对每只他当前没有的餐叉，他都发送一个请求。

     4）当拥有餐叉的哲学家收到请求时，如果餐叉是干净的，那么他继续留着，否则就擦干净并交出餐叉。

     5）当某个哲学家吃东西后，他的餐叉就变脏了。如果另一个哲学家之前请求过其中的餐叉，那他就擦干净并交出餐叉。

     这个解法允许很大的并行性，适用于任意大的问题。

3. 了解磁盘、分区、简单卷、跨区卷等磁盘管理中的概念。

   **磁盘**：**磁盘**是由一张一张的磁片叠加而成并由薄磁膜封装起来磁介质存储设备

​                  信息通过盘上每一个磁片的读/写磁头读写磁介质表面来进行读取和存储

​       **分区**：基本磁盘

​                  **分区**是使用分区编辑器在磁盘上划分几个功能单位。盘片一旦划分成数

​                  个**分区**，不同类的目录与文件可以存储进不同的**分区**。

​       **简单卷**：动态磁盘

​                  **简单卷**是在单独的动态磁盘中的一个卷，它与基本磁盘的分区较相似。但 

​                  是它没有空间的限制以及数量的限制。当**简单卷**的空间不够用时，可以通

​                  过扩展卷来扩充其空间，而这丝毫不会影响其中的数据。

​       **跨区卷**：动态磁盘

​                  **跨区卷**是一个包含多块磁盘上的空间的卷（最多32块）。通过创建**跨区**

​                  **卷**，我们可以将多块物理磁盘中的空余空间分配成同一个卷，提高了存储

​                  空间资源的利用。

​                   